<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="jquery-3.3.1.slim.min.js"></script>
  <!-- Bootstrap CSS -->
  <link href="bootstrap.min.css" rel="stylesheet">
  <script src="showdown.min.js"></script>
  <style>
     #aboutTabsContent > .tab-pane {
    padding-top: 20px; /* Add space above the content in each tab */
}
  body, nav, header, .navbar, #footer, a, th {
    transition: background-color 0.3s ease, color 0.3s ease;
}
    body {
      background-color: #343a40;
      display: block;
    }
    .table-responsive {
      margin: 20px 0;
    }
    .custom-table th {
      background-color: #e9ecef;
    }
    .custom-button {
      margin: 10px;
    }
    .event-code {
      font-size: 24px;
      font-weight: bold;
      color: #007bff;
    }
    .info-modal-content {
      padding: 20px;
      border-radius: 5px;
      background-color: #ffffff;
      box-shadow: 0 5px 15px rgba(0,0,0,.5);
    }

    /* Dark Mode Toggle Switch Styles */
.switch {
  position: relative;
  display: inline-block;
  width: 80px;
  height: 34px;
  margin: 10px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: background-color .4s;
  border-radius: 34px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: transform .4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #555; /* Dark mode slider color */
}

input:checked + .slider:before {
  transform: translateX(46px); /* Slide to the right */
}

.icon {
  color: #fff;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 20px;
  transition: opacity 0.4s; /* Smooth transition for opacity */
}

.sun {
  left: 10px;
  opacity: 0; /* Start hidden */
}

.moon {
  right: 10px;
  opacity: 1; /* Start visible */
}

input:checked + .slider .sun {
  opacity: 1; /* Fade in when dark mode is on */
}

input:checked + .slider .moon {
  opacity: 0; /* Fade out when dark mode is on */
}

input:not(:checked) + .slider .sun {
  opacity: 0; /* Remain hidden when light mode is on */
}

input:not(:checked) + .slider .moon {
  opacity: 1; /* Remain visible when light mode is on */
}

body .bg-dark #patch-notes, #aboutTabsContent {
    color: #f8f9fa !important; /* Sets the text color for all content within the patch-notes container */
}

body .bg-dark #patch-notes h3, #patch-notes p, #patch-notes a {
    color: inherit !important; /* Ensures that headers, paragraphs, and links inherit the same color */
}

body .bg-light #patch-notes, #aboutTabsContent {
    color: #343a40 !important; /* Sets the text color for all content within the patch-notes container */
}

body .bg-light #patch-notes h3, #patch-notes p, #patch-notes a {
    color: inherit !important; /* Ensures that headers, paragraphs, and links inherit the same color */
}



/* Styles for dark and light modes */
.bg-dark, .navbar-dark, .card {
  background-color: #343a40 !important; /* Dark gray background */
  color: #f8f9fa !important; /* Light text for readability */
}

body.bg-dark table {
  background-color: #343a40; 
  color: #f8f9fa; 
}

body.bg-dark th {
  color: #343a40; 
}


.bg-light, .navbar-light, .card {
  background-color: #f8f9fa !important; /* Light gray background */
  color: #343a40 !important; /* Dark text for readability */
}

/* Enhanced specific selectors for navbar in dark mode */
.navbar-dark {
  background-color: #343a40 !important; /* Dark gray background */
  color: #f8f9fa !important; /* Light text for readability */
}

.navbar-dark .navbar-nav .nav-link,
.navbar-dark .navbar-brand {
  color: #f8f9fa !important; /* Ensure navbar text colors are adjusted for dark mode */
}

.nav-link.active {
  color: #343a40 !important;
}

.navbar-dark .navbar-toggler-icon {
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3e%3cpath stroke='rgba(248, 249, 250, 1)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
}
/* Dark mode styles for the modal */
.modal-content-dark {
  background-color: #343a40 !important; /* Dark background */
  color: #f8f9fa !important; /* Light text */
}
.modal-header-dark, .modal-footer-dark {
  background-color: #495057 !important; /* Slightly lighter dark background for header and footer */
}
.modal-content-dark a {
  color: #f8f9fa !important; /* Light text for readability */
}

body.bg-dark .dropdown-item {
    background-color: #343a40 !important; /* Dark gray background */
  color: #f8f9fa !important; /* Light text for readability */
}
body.bg-dark .dropdown-item:hover {
    background-color: #f8f9fa !important; /* Light gray background */
  color: #343a40 !important; /* Dark text for readability */
}
body.bg-dark .dropdown-menu {
    background-color:  #343a40 !important; /* Light gray background */
}

  </style>
</head>
<body onload="fetchTeams(); updateOnlineStatus();">
  <nav class="navbar navbar-expand-lg shadow-sm mb-5">
    <div class="container">
        <a class="navbar-brand" href="#" id="roborte">Robort</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="./index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./Team_List_element.html">Teams</a>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Scouting
                  </a>
                  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <a class="dropdown-item" href="./Strat_Board_w_tabs.html">Canvas</a>
                      <a class="dropdown-item" href="./scoutingGen.html">Scouting Generator</a>
                      <a class="dropdown-item" href="./scoutingUI.html">Live Scouter (WIP)</a>
                      <a class="dropdown-item" href="./pitScouterFRONT.html">Pit Scouter</a>
                    </div>
              </li>
                <li class="nav-item">
                    <a class="nav-link" href="./Checklist.html">Pre Match Checklist</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./2423_Features.html">Features</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Config_tab.html">Configure</a>
                </li>
            </ul>
            <label class="switch">
              <input type="checkbox" id="darkModeToggle">
              <span class="slider round">
                <span class="icon sun">ðŸŒž</span> <!-- Sun icon -->
                <span class="icon moon">ðŸŒœ</span> <!-- Moon icon -->
              </span>
            </label>            
        </div>
    </div>
</nav>
  <div class="container text-center mt-5">
    <h1>Teams and Rankings</h1>
    <h5>Click on a team for more info!</h5>
    <div class="mt-4">
      <input type="checkbox" id="showRankings" class="custom-control-input" onchange="fetchTeams()">
      <label class="custom-control-label" for="showRankings">Show Rankings</label>
      <h2 class="mt-3">Event Code From Config: <span id="eventCode" class="event-code"></span></h2>
    </div>
    <div class="table-responsive">
      <table id="teamsTable" class="table custom-table">
        <thead>
          <tr>
            <th>Team Number</th>
          </tr>
        </thead>
        <tbody onclick="cellClickHandler(event.target.textContent)">
        </tbody>
      </table>
    </div>
    <div class="table-responsive" style="display:none;">
      <table id="rankingsTable" class="table custom-table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Team Number</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
  </div>
  <!-- Bootstrap Modal for Team Info -->
  <div class="modal fade" id="teamInfoModal" tabindex="-1" role="dialog" aria-labelledby="teamInfoModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="teamInfoModalLabel">Team Information</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p id="teamLocation"></p>
          <p id="teamSchoolName"></p>
          <p id="teamCity"></p>
          <p id="teamCountry"></p>
          <p id="teamMotto"></p>
          <p id="teamRookieYear"></p>
          <p id="teamHomeChampionship"></p>
          <p id="teamWebsite"></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
<!-- Offline Modal -->
<div class="modal" id="offlineModal" tabindex="-1" role="dialog" aria-labelledby="offlineModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="offlineModalLabel">Offline Notice</h5>
      </div>
      <div class="modal-body">
        You need to be online to view the teams list.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" onclick="history.back();">Back</button>
      </div>
    </div>
  </div>
</div>
<!-- Invalid Event Code Modal -->
<div class="modal" id="invalidEventCodeModal" tabindex="-1" role="dialog" aria-labelledby="invalidEventCodeModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="invalidEventCodeModalLabel">Invalid Event Code</h5>
      </div>
      <div class="modal-body">
        The provided event code is invalid. Please check and try again.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" onclick="location.href='Config_tab.html'" type="button">Configure</button>
      </div>
    </div>
  </div>
</div>
    <!-- About the Project Modal -->
    <div id="aboutModal" class="modal text-center modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
          <div class="modal-content">
              <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>
              <div class="modal-body">
                  <ul class="nav nav-tabs" id="aboutTabs" role="tablist">
                      <li class="nav-item">
                          <a class="nav-link active" id="about-tab" data-toggle="tab" href="#about" role="tab" aria-controls="about" aria-selected="true">About</a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" id="patch-notes-tab" data-toggle="tab" href="#patch-notes" role="tab" aria-controls="patch-notes" aria-selected="false">Patch Notes</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" id="feedback-tab" data-toggle="tab" href="#feedback" role="tab" aria-controls="feedback" aria-selected="false">Feedback</a>
                    </li>
                    
                  </ul>
                  <div class="tab-content" id="aboutTabsContent">
                      <div class="tab-pane fade show active" id="about" role="tabpanel" aria-labelledby="about-tab">
                          <h2>Robort</h2>
                          <h4>The ultimate in FRC competition gear</h4>
                          <h5>Co-developed by Ben Skraly and Toba Banjo</h5>
                          <p>Whether you're preparing to scout a heated match, sharing information about your team, or analyzing other robots, Robort has got you covered. Complete with modular design and accessible systems, it's the best tool both on and off the field.</p>
                          <span>&copy; <script>document.write(new Date().getFullYear());</script> Watertown High School Robotics</span>
                      </div>
                      <div class="tab-pane fade" id="patch-notes" role="tabpanel" aria-labelledby="patch-notes-tab">
                          <!-- Patch notes will be populated here by JavaScript -->
                      </div>
                      <div class="tab-pane fade" id="feedback" role="tabpanel" aria-labelledby="feedback-tab">
                        <form id="feedbackForm">
                            <div class="form-group">
                                <label for="feedbackType">Select Feedback Type:</label>
                                <select class="form-control" id="feedbackType" onchange="toggleFeedbackForm()">
                                    <option value="feature">Feature Suggestion</option>
                                    <option value="bug">Bug Report</option>
                                </select>
                            </div>
                            <!-- Feature Suggestion Form -->
                            <div id="featureForm" style="display: block;">
                                <div class="form-group">
                                    <label>Feature Area: <label style="color:red">*</label></label>
                                    <div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="featureArea" id="statistics" value="Statistics/Data">
                                            <label class="form-check-label" for="statistics">Statistics/Data</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="featureArea" id="scouting" value="Scouting">
                                            <label class="form-check-label" for="scouting">Scouting</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="featureArea" id="quality" value="Quality of Life">
                                            <label class="form-check-label" for="quality">Quality of Life</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="featureArea" id="other" value="Other">
                                            <label class="form-check-label" for="other">Other</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="featureDescription">Description:</label>
                                    <textarea class="form-control" id="featureDescription" rows="3"></textarea>
                                </div>
                            </div>
                            <!-- Bug Report Form -->
                            <div id="bugForm" style="display: none;">
                                <div class="form-group">
                                    <label for="bugTitle">Title:</label>
                                    <input type="text" class="form-control" id="bugTitle">
                                </div>
                                <div class="form-group">
                                    <label for="bugSummary">Issue Summary:</label>
                                    <textarea class="form-control" id="bugSummary" rows="2"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="bugSteps">Steps to Reproduce:</label>
                                    <textarea class="form-control" id="bugSteps" rows="3"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="bugResults">Expected vs. Actual Results:</label>
                                    <textarea class="form-control" id="bugResults" rows="2"></textarea>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </form>
                    </div>                    
                  </div>
              </div>
          </div>
      </div>
  </div>
  
  <script src="jquery-3.3.1.slim.min.js"></script>
 <script src="bootstrap.min.js"></script>
  <script src="electron.js"></script>
  <script>
    async function fetchTeams() {
      const eventCode = localStorage.getItem('eventCode');
      document.getElementById('eventCode').textContent = eventCode;
      const showRankings = document.getElementById('showRankings').checked;
      let url;
  
      if (showRankings) {
        url = `https://www.thebluealliance.com/api/v3/event/${eventCode}/rankings`;
        document.getElementById('teamsTable').parentNode.style.display = 'none';
        document.getElementById('rankingsTable').parentNode.style.display = 'block';
      } else {
        url = `https://www.thebluealliance.com/api/v3/event/${eventCode}/teams`;
        document.getElementById('teamsTable').parentNode.style.display = 'block';
        document.getElementById('rankingsTable').parentNode.style.display = 'none';
      }
  
      const headers = new Headers({
        'X-TBA-Auth-Key': 'J43Af3iggAp3XBvsVaGm5Hbc7IlK6XR8W8WxQhLDlPiQbv6BbW8LWDvVg8Zj9fCV'
      });
  
      const response = await fetch(url, { method: 'GET', headers: headers });
      const data = await response.json();
      if (response.status !== 200) {
  $('#invalidEventCodeModal').modal('show');
  return;
}

  
      const table = showRankings ? document.querySelector('#rankingsTable tbody') : document.querySelector('#teamsTable tbody');
      table.innerHTML = '';
  
      if (showRankings) {
        data.rankings.forEach(ranking => {
          const row = document.createElement('tr');
          row.innerHTML = `<td>${ranking.rank}</td><td>${ranking.team_key.replace('frc', '')}</td>`;
          table.appendChild(row);
        });
      } else {
        data.sort((a, b) => a.team_number - b.team_number).forEach(team => {
  const row = document.createElement('tr');
  row.innerHTML = `<td style="cursor:pointer;" onclick="fetchTeamData('${team.team_number}')">${team.team_number} - ${team.nickname}</td>`;
  table.appendChild(row);
});
      }
    }
  
    async function fetchTeamData(teamNumber) {
      const teamKey = "frc" + teamNumber;
      const teamEndpoint = `https://www.thebluealliance.com/api/v3/team/${teamKey}`;
      const headers = new Headers({
        'X-TBA-Auth-Key': 'J43Af3iggAp3XBvsVaGm5Hbc7IlK6XR8W8WxQhLDlPiQbv6BbW8LWDvVg8Zj9fCV'
      });
  
      try {
        const teamResponse = await fetch(teamEndpoint, { method: 'GET', headers: headers });
        const teamData = await teamResponse.json();
        displayTeamData(teamData);
      } catch (error) {
        console.error("Error fetching the team data:", error);
        
      }
    }
  
    function displayTeamData(teamData) {
  // Check each field for null or empty string and conditionally display
  document.getElementById('teamLocation').innerText = teamData.city && teamData.state_prov && teamData.country ? `Location: ${teamData.city}, ${teamData.state_prov}, ${teamData.country}` : '';
  document.getElementById('teamSchoolName').innerText = teamData.school_name ? `School Name: ${teamData.school_name}` : '';
  document.getElementById('teamCity').innerText = teamData.city ? `City: ${teamData.city}` : '';
  document.getElementById('teamCountry').innerText = teamData.country ? `Country: ${teamData.country}` : '';
  document.getElementById('teamMotto').innerText = teamData.motto ? `Motto: ${teamData.motto}` : '';
  document.getElementById('teamRookieYear').innerText = teamData.rookie_year ? `Rookie Year: ${teamData.rookie_year}` : '';
  document.getElementById('teamHomeChampionship').innerText = teamData.home_championship && Object.keys(teamData.home_championship).length > 0 ? `Home Championship: ${teamData.home_championship[Object.keys(teamData.home_championship)[0]]}` : '';
  document.getElementById('teamWebsite').innerHTML = teamData.website ? `Website: <a href="${teamData.website}" target="_blank">${teamData.website}</a>` : '';

  // Show modal only if there's any data to display
  const modalContent = document.querySelector('.modal-body').textContent.trim();
  if (modalContent) {
    $('#teamInfoModal').modal('show');
  }
}

document.addEventListener('DOMContentLoaded', function () {
    window.addEventListener('online', updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);
    updateOnlineStatus(); // Also do an initial check
    setInterval(updateOnlineStatus, 5000);
});
async function checkConnectivity() {
  try {
    await fetch('http://clients3.google.com/generate_204', {
      method: 'HEAD',
      mode: 'no-cors'
    });
    return true; // If fetch resolves, the network is online
  } catch (error) {
    return false; // If fetch rejects, the network is offline
  }
}


async function updateOnlineStatus() {
  const isConnected = await checkConnectivity();
  if (isConnected) {
    $('#offlineModal').modal('hide');
  } else {
    $('#offlineModal').modal({
      backdrop: 'static', // Disables modal closing by clicking on the backdrop
      keyboard: false // Disables modal closing by keyboard keys
    });
    $('#offlineModal').modal('show');
  }
}



  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const toggle = document.getElementById('darkModeToggle');
      const body = document.body;
      const navbar = document.querySelector('.navbar'); // Select the navbar element
    
      /// Function to apply dark mode classes including modal
function enableDarkMode() {
  body.classList.add('bg-dark');
  body.classList.remove('bg-light');
  navbar.classList.add('navbar-dark');
  navbar.classList.remove('navbar-light', 'bg-white');
  document.querySelectorAll('.navbar').forEach(element => {
    element.classList.add('bg-dark');
    element.classList.remove('bg-white');
  });
  document.querySelectorAll('.modal-content').forEach(element => {
    if (!element.closest('#aboutModal')) {
    element.classList.add('modal-content-dark');
    element.classList.remove('modal-content-light');
    }
  });
}

// Function to remove dark mode classes including modal
function disableDarkMode() {
  body.classList.add('bg-light');
  body.classList.remove('bg-dark');
  navbar.classList.add('navbar-light');
  navbar.classList.remove('navbar-dark', 'bg-dark');
  document.querySelectorAll('.navbar').forEach(element => {
    element.classList.add('bg-white');
    element.classList.remove('bg-dark');
  });
  document.querySelectorAll('.modal-content').forEach(element => {
    if (!element.closest('#aboutModal')) {
    element.classList.add('modal-content-light');
    element.classList.remove('modal-content-dark');
    }
  });
}

    
      // Initialize dark mode from local storage
      if (localStorage.getItem('darkMode') === 'true') {
        enableDarkMode();
        toggle.checked = true;
      } else {
        disableDarkMode();
      }
      body.style.display = 'block';
      // Toggle dark mode on change
      toggle.addEventListener('change', function() {
        if (this.checked) {
          localStorage.setItem('darkMode', 'true');
          enableDarkMode();
        } else {
          localStorage.setItem('darkMode', 'false');
          disableDarkMode();
        }
      });
    });

    document.getElementById('roborte').addEventListener('click', function() {
    $('#aboutModal').modal('show');
});

// Fetch and display GitHub release notes with markdown parsing and specific download link
function loadGitHubReleases() {
    const apiUrl = 'https://api.github.com/repos/skac121245/Robort/releases';
    const converter = new showdown.Converter(); // Initialize markdown converter
    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            const container = document.getElementById('patch-notes');
            container.innerHTML = ''; // Clear existing content
            data.forEach(release => {
                if (release.body !== null) { // Only display if there's a description
                    const markdownHTML = converter.makeHtml(release.body);
                    const releaseDiv = document.createElement('div');
                    releaseDiv.innerHTML = `
                        <h3>${release.tag_name}</h3>
                        <div>${markdownHTML}</div>
                        <a href="${release.html_url}" target="_blank">View on GitHub</a>
                        <hr>`;
                    container.appendChild(releaseDiv);
                }
            });
        })
        .catch(error => console.error('Error fetching GitHub releases:', error));
}



document.getElementById('patch-notes-tab').addEventListener('click', function() {
    loadGitHubReleases();
});

document.getElementById('feedbackForm').addEventListener('submit', async function(event) {
    event.preventDefault();  // Prevent the default form submission behavior
    const feedbackType = document.getElementById('feedbackType').value;
    let postData = {
        username: "Robort Feedback Bot",
        embeds: [],
    };

    if (feedbackType === 'feature') {
        const area = document.querySelector('input[name="featureArea"]:checked').value;
        const description = document.getElementById('featureDescription').value;
        postData.embeds.push({
            title: "Feature Suggestion",
            fields: [
                { name: "Area", value: area, inline: true },
                { name: "Description", value: description }
            ],
            color: 65280  // Green
        });
    } else {
        const title = document.getElementById('bugTitle').value;
        const summary = document.getElementById('bugSummary').value;
        const steps = document.getElementById('bugSteps').value;
        const results = document.getElementById('bugResults').value;
        postData.embeds.push({
            title: "Bug Report: " + title,
            fields: [
                { name: "Summary", value: summary },
                { name: "Steps to Reproduce", value: steps },
                { name: "Expected vs. Actual Results", value: results }
            ],
            color: 16711680  // Red
        });
    }

    try {
        const response = await fetch('https://discord.com/api/webhooks/1231365349476405268/lX0MXxHO2zwQPnNxEiuConQ8Sf47Qwq4EDrE8mLV8pctu3c63VQBjnsjAwlGLK2DPeLm', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(postData)
        });
        if (response.ok) {
            alert('Feedback submitted successfully!');
            document.getElementById('feedbackForm').reset();  // Reset the form after successful submission
        } else {
            alert('Failed to submit feedback. Please try again.');
        }
    } catch (error) {
        console.error('Error submitting feedback:', error);
        alert('Error submitting feedback. Please check your network connection and try again.');
    }
});

function toggleFeedbackForm() {
    const feedbackType = document.getElementById('feedbackType').value;
    if (feedbackType === 'feature') {
        document.getElementById('featureForm').style.display = 'block';
        document.getElementById('bugForm').style.display = 'none';
    } else {
        document.getElementById('featureForm').style.display = 'none';
        document.getElementById('bugForm').style.display = 'block';
    }
}

    </script>
    
</body>

</html>

<!DOCTYPE html>
<html>
<head>
    <title>Password Protected Page</title>
    <script>
        let failedAttempts = parseInt(localStorage.getItem('failedAttempts')) || 0;
        let lockoutTime = parseInt(localStorage.getItem('lockoutTime')) || 0;
        let success = localStorage.getItem('success') === 'true';

        function updateTimer() {
            const now = new Date().getTime();
            const remainingTime = lockoutTime - now;
            if (remainingTime > 0) {
                document.getElementById('timer').innerHTML = `Locked for ${Math.ceil(remainingTime / 1000)} seconds`;
            } else {
                document.getElementById('timer').innerHTML = "";
                clearInterval(timerInterval);
            }
        }

        window.onload = function () {
            if (success) {
                loadFrame();
                return;
            }

            if (failedAttempts >= 5) {
                const now = new Date().getTime();
                if (lockoutTime > now) {
                    document.getElementById('timer').style.display = 'block';
                    updateTimer();
                    timerInterval = setInterval(updateTimer, 1000);
                    return;
                }
            }
        };

        function checkPassword() {
            var password = document.getElementById("passwordInput").value;
            if (failedAttempts >= 5) {
                const now = new Date().getTime();
                if (lockoutTime > now) {
                    return;
                }
            }

            if (password === "kwarqs2423duck") {
                localStorage.setItem('success', 'true');
                loadFrame();
            } else {
                failedAttempts++;
                localStorage.setItem('failedAttempts', failedAttempts);
                if (failedAttempts >= 5) {
                    const now = new Date().getTime();
                    const penalty = (lockoutTime > now ? lockoutTime - now : 60 * 1000) * 2;
                    lockoutTime = now + penalty;
                    localStorage.setItem('lockoutTime', lockoutTime);
                    document.getElementById('timer').style.display = 'block';
                    updateTimer();
                    timerInterval = setInterval(updateTimer, 1000);
                }
                alert("Incorrect password!");
            }
        }

        function loadFrame() {
    document.body.style.margin = '0';
    document.body.style.padding = '0';
    document.body.innerHTML = '<iframe src="https://docs.google.com/forms/d/e/1FAIpQLScVMOVUfz0UiLxv9Rfts9uujT-gqr8ltdylUo2XsqebCleleA/viewform?embedded=true" style="position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999;">Loadingâ€¦</iframe>';
}

    </script>
</head>
<body>
    <h1>This page is password protected.</h1>
    <p>Please enter the password to access the content:</p>
    <input type="password" id="passwordInput" placeholder="Enter Password">
    <button onclick="checkPassword()">Submit</button>
    <div id="timer" style="display:none;"></div>
</body>
</html>

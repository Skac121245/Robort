<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pre Match Checklist</title>
    <link href="bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }

        nav {
            margin-bottom: 20px;
        }

        .navbar-light .navbar-nav .nav-link {
            color: #15a801;
        }

        .navbar-light .navbar-nav .nav-link:hover {
            color: #02467e;
        }

        #checklistContainer {
            padding: 20px;
            background: #ffffff;
            border-radius: 0.25rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.075);
        }

        .checklist-item {
            margin-bottom: 10px;
        }

        .checklist-item label {
            font-size: 1.125rem;
            font-weight: bold;
            margin-left: 10px;
        }

        .form-control {
            border-radius: 0.25rem;
        }

        .btn, .upload-btn {
            cursor: pointer;
        }

        .btn-primary, .upload-btn {
            color: #fff;
            background-color: #007bff;
            border-color: #007bff;
        }

        .btn-primary:hover, .upload-btn:hover {
            color: #fff;
            background-color: #0069d9;
            border-color: #0062cc;
        }

        .btn-success {
            color: #fff;
            background-color: #28a745;
            border-color: #28a745;
        }

        .btn-success:hover {
            color: #fff;
            background-color: #218838;
            border-color: #1e7e34;
        }

        input[type="file"] {
            display: none;
        }
    </style>
</head>
<body>
   <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Pre Match Checklist</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
            <a class="nav-item nav-link" href="./index.html">Home <span class="sr-only">(current)</span></a>
            <a class="nav-item nav-link" href="./Team_List_element.html">Teams</a>
            <a class="nav-item nav-link" href="./Strat_Board_w_tabs.html">Canvas</a>
            <a class="nav-item nav-link active" href="./Checklist.html">Pre Match Checklist</a>
            <a class="nav-item nav-link" href="./Control_Panel.html">Control Panel</a>
            <a class="nav-item nav-link" href="./2423_Features.html">Features</a>
            <a class="nav-item nav-link" href="./Config_tab.html">Configure</a>
        </div>
    </div>
</nav>
    <div class="container mt-4" id="checklistContainer">
        <!-- Checklist items will be dynamically inserted here -->
    </div>
    
    <div class="container mt-4">
        <form id="addItemForm" class="mb-3">
            <div class="input-group mb-3">
                <input type="text" id="newItems" class="form-control" placeholder="Enter items separated by spaces" aria-label="Checklist item">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" type="submit">Add Items</button>
                </div>
            </div>
        </form>
        <button id="loadChecklist" class="btn btn-primary">Load Checklist</button>
        <button id="downloadChecklist" class="btn btn-success">Download Checklist</button>
        <input type="file" id="uploadChecklist">
        <label for="uploadChecklist" class="btn btn-info upload-btn">Upload Checklist</label>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const checklistContainer = document.getElementById('checklistContainer');
            const loadChecklistButton = document.getElementById('loadChecklist');
            const addItemForm = document.getElementById('addItemForm');
            const newItemsInput = document.getElementById('newItems');
            let checklistItems = [];

            function renderChecklist(items) {
                checklistContainer.innerHTML = '';
                items.forEach((item, index) => {
                    const div = document.createElement('div');
                    div.className = 'checklist-item form-check';
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.id = 'check-' + index;
                    checkbox.className = 'form-check-input';
                    const label = document.createElement('label');
                    label.htmlFor = 'check-' + index;
                    label.className = 'form-check-label';
                    label.textContent = typeof item === 'object' ? item.text : item;
                    div.appendChild(checkbox);
                    div.appendChild(label);
                    checklistContainer.appendChild(div);
                });
            }

            function loadChecklist() {
                const storedItems = JSON.parse(localStorage.getItem('preMatchChecklistItems'));
                if (storedItems && storedItems.length > 0) {
                    checklistItems = storedItems;
                }
                renderChecklist(checklistItems);
            }

            addItemForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const newItems = newItemsInput.value.split(' ');
                checklistItems = checklistItems.concat(newItems);
                localStorage.setItem('preMatchChecklistItems', JSON.stringify(checklistItems));
                renderChecklist(checklistItems);
                newItemsInput.value = '';
            });

            loadChecklistButton.addEventListener('click', loadChecklist);
            loadChecklist();

            const downloadChecklistButton = document.getElementById('downloadChecklist');
            const uploadChecklistInput = document.getElementById('uploadChecklist');

            downloadChecklistButton.addEventListener('click', function() {
                const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(checklistItems));
                const downloadAnchorNode = document.createElement('a');
                downloadAnchorNode.setAttribute("href", dataStr);
                downloadAnchorNode.setAttribute("download", "checklistItems.json");
                document.body.appendChild(downloadAnchorNode);
                downloadAnchorNode.click();
                downloadAnchorNode.remove();
            });

            uploadChecklistInput.addEventListener('change', function(e) {
                const fileReader = new FileReader();
                fileReader.onload = function() {
                    const contents = JSON.parse(fileReader.result);
                    checklistItems = contents;
                    renderChecklist(checklistItems);
                    localStorage.setItem('preMatchChecklistItems', JSON.stringify(checklistItems));
                };
                fileReader.readAsText(e.target.files[0]);
            });
        });
    </script>
<script src="jquery-3.3.1.slim.min.js"></script>
<script src="bootstrap.min.js"></script>
</body>
</html>
